<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="QuotationReport" pageWidth="595" pageHeight="842" columnWidth="535" 
              leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20">
    
    <!-- Parameters -->
    <parameter name="LOGO_PATH" class="java.lang.String"/>
    <parameter name="NAMA_TENANT" class="java.lang.String"/>
    <parameter name="ALAMAT_TENANT" class="java.lang.String"/>
    <parameter name="TELEPON_TENANT" class="java.lang.String"/>
    <parameter name="KODE_BOOKING" class="java.lang.String"/>
    <parameter name="TANGGAL_QUOTATION" class="java.lang.String"/>
    <parameter name="NAMA_CUSTOMER" class="java.lang.String"/>
    <parameter name="TELEPON_CUSTOMER" class="java.lang.String"/>
    <parameter name="EMAIL_CUSTOMER" class="java.lang.String"/>
    <parameter name="ALAMAT_CUSTOMER" class="java.lang.String"/>
    <parameter name="CATATAN" class="java.lang.String"/>
    <parameter name="GRAND_TOTAL" class="java.math.BigDecimal"/>
    <parameter name="SYARAT_PEMBAYARAN" class="java.lang.String"/>
    
    <!-- Fields untuk detail trip -->
    <field name="nomorTrip" class="java.lang.Integer"/>
    <field name="tanggalMulai" class="java.lang.String"/>
    <field name="tanggalSelesai" class="java.lang.String"/>
    <field name="lokasiJemput" class="java.lang.String"/>
    <field name="lokasiTujuan" class="java.lang.String"/>
    <field name="tipeBus" class="java.lang.String"/>
    
    <!-- Title Band - Header Perusahaan -->
    <title>
        <band height="120">
            <!-- Logo placeholder -->
            <image scaleImage="RetainShape" isUsingCache="true" onErrorType="Blank">
                <reportElement x="0" y="0" width="100" height="60"/>
                <imageExpression><![CDATA[$P{LOGO_PATH}]]></imageExpression>
            </image>
            
            <!-- Nama Perusahaan -->
            <textField>
                <reportElement x="110" y="5" width="300" height="25"/>
                <textElement>
                    <font size="16" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{NAMA_TENANT}]]></textFieldExpression>
            </textField>
            
            <!-- Alamat -->
            <textField>
                <reportElement x="110" y="30" width="300" height="15"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{ALAMAT_TENANT}]]></textFieldExpression>
            </textField>
            
            <!-- Telepon -->
            <textField>
                <reportElement x="110" y="45" width="300" height="15"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Telp: " + $P{TELEPON_TENANT}]]></textFieldExpression>
            </textField>
            
            <!-- Judul Dokumen -->
            <staticText>
                <reportElement x="0" y="75" width="535" height="25"/>
                <textElement textAlignment="Center">
                    <font size="14" isBold="true"/>
                </textElement>
                <text><![CDATA[SURAT PENAWARAN HARGA]]></text>
            </staticText>
            
            <!-- Nomor dan Tanggal -->
            <textField>
                <reportElement x="0" y="100" width="535" height="15"/>
                <textElement textAlignment="Center">
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA["No: " + $P{KODE_BOOKING} + " | Tanggal: " + $P{TANGGAL_QUOTATION}]]></textFieldExpression>
            </textField>
        </band>
    </title>
    
    <!-- Page Header - Info Customer -->
    <pageHeader>
        <band height="80">
            <staticText>
                <reportElement x="0" y="10" width="100" height="15"/>
                <textElement>
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Kepada Yth:]]></text>
            </staticText>
            
            <textField>
                <reportElement x="0" y="25" width="250" height="15"/>
                <textElement>
                    <font size="10" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{NAMA_CUSTOMER}]]></textFieldExpression>
            </textField>
            
            <textField isBlankWhenNull="true">
                <reportElement x="0" y="40" width="250" height="15"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{ALAMAT_CUSTOMER}]]></textFieldExpression>
            </textField>
            
            <textField isBlankWhenNull="true">
                <reportElement x="0" y="55" width="250" height="15"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA["Telp: " + $P{TELEPON_CUSTOMER} + " | Email: " + $P{EMAIL_CUSTOMER}]]></textFieldExpression>
            </textField>
        </band>
    </pageHeader>
    
    <!-- Column Header - Header Tabel Trip -->
    <columnHeader>
        <band height="25">
            <staticText>
                <reportElement mode="Opaque" x="0" y="0" width="30" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[No]]></text>
            </staticText>
            
            <staticText>
                <reportElement mode="Opaque" x="30" y="0" width="80" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Tgl Mulai]]></text>
            </staticText>
            
            <staticText>
                <reportElement mode="Opaque" x="110" y="0" width="80" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Tgl Selesai]]></text>
            </staticText>
            
            <staticText>
                <reportElement mode="Opaque" x="190" y="0" width="120" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Lokasi Jemput]]></text>
            </staticText>
            
            <staticText>
                <reportElement mode="Opaque" x="310" y="0" width="120" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Lokasi Tujuan]]></text>
            </staticText>
            
            <staticText>
                <reportElement mode="Opaque" x="430" y="0" width="105" height="25" backcolor="#E0E0E0"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Tipe Bus]]></text>
            </staticText>
        </band>
    </columnHeader>
    
    <!-- Detail Band - Data Trip -->
    <detail>
        <band height="20">
            <textField>
                <reportElement x="0" y="0" width="30" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{nomorTrip}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="30" y="0" width="80" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{tanggalMulai}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="110" y="0" width="80" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{tanggalSelesai}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="190" y="0" width="120" height="20"/>
                <box leftPadding="5">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{lokasiJemput}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="310" y="0" width="120" height="20"/>
                <box leftPadding="5">
                    <pen lineWidth="0.5"/>
                </box>
                <textElement verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{lokasiTujuan}]]></textFieldExpression>
            </textField>
            
            <textField>
                <reportElement x="430" y="0" width="105" height="20"/>
                <box>
                    <pen lineWidth="0.5"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{tipeBus}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    
    <!-- Summary Band - Total dan Syarat -->
    <summary>
        <band height="180">
            <!-- Grand Total -->
            <staticText>
                <reportElement x="300" y="20" width="130" height="25"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[GRAND TOTAL:]]></text>
            </staticText>
            
            <textField pattern="#,##0">
                <reportElement x="430" y="20" width="105" height="25"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font size="12" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Rp " + new java.text.DecimalFormat("#,###").format($P{GRAND_TOTAL})]]></textFieldExpression>
            </textField>
            
            <!-- Syarat Pembayaran -->
            <staticText>
                <reportElement x="0" y="60" width="535" height="20"/>
                <textElement>
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[Syarat dan Ketentuan:]]></text>
            </staticText>
            
            <textField isStretchWithOverflow="true">
                <reportElement x="0" y="80" width="535" height="40"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{SYARAT_PEMBAYARAN}]]></textFieldExpression>
            </textField>
            
            <!-- Catatan -->
            <staticText>
                <reportElement x="0" y="130" width="535" height="15"/>
                <textElement>
                    <font size="9" isBold="true"/>
                </textElement>
                <text><![CDATA[Catatan:]]></text>
            </staticText>
            
            <textField isBlankWhenNull="true" isStretchWithOverflow="true">
                <reportElement x="0" y="145" width="535" height="30"/>
                <textElement>
                    <font size="9"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{CATATAN}]]></textFieldExpression>
            </textField>
        </band>
    </summary>
    
    <!-- Page Footer -->
    <pageFooter>
        <band height="30">
            <textField>
                <reportElement x="0" y="10" width="535" height="15"/>
                <textElement textAlignment="Center">
                    <font size="8" isItalic="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Halaman " + $V{PAGE_NUMBER} + " - Dokumen ini digenerate secara otomatis"]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
</jasperReport>
